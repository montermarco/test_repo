{"ast":null,"code":"var _jsxFileName = \"/Users/monter/Desktop/online_shop_v1/client/src/components/items/ItemList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport { ItemListContainer } from '../../elements/Container';\nimport { listItems } from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\nimport Loader from '../../elements/Loader';\nimport { useRouteMatch, useParams } from 'react-router-dom';\nlet {\n  path,\n  url\n} = useRouteMatch();\nconsole.log(' ... path '); //console.log(url)\n\nconsole.log(path);\n\nconst ItemList = ({\n  match\n}) => {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [size, setSize] = useState('');\n  const [price, setPrice] = useState('');\n  const itemList = useSelector(state => state.items);\n  const {\n    items,\n    loading,\n    error\n  } = itemList;\n  const dispatch = useDispatch();\n  let result;\n  let {\n    category\n  } = useParams();\n  useEffect(() => {\n    dispatch(listItems(category, null, null, null));\n  }, [dispatch, match.params.category]);\n\n  const searchHandler = e => {\n    const search = e.target.value;\n    search.length > 1 ? setSearchKeyword(search) : setSearchKeyword('');\n  };\n\n  if (searchKeyword !== '') {\n    result = items && items.filter(item => item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1);\n  } else {\n    result = items;\n  }\n\n  const sizeHandler = e => {\n    const size = e.target.value;\n    setSize(e.target.value);\n    dispatch(listItems(category, size, null, price));\n  };\n\n  const priceHandler = e => {\n    const price = e.target.value;\n    setPrice(e.target.value);\n    console.log(price);\n\n    if (size === '') {\n      if (price === \"-precio\" || price === \"precio\") {\n        dispatch(listItems(category, null, null, price));\n      } else if (price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\") {\n        dispatch(listItems(match.params.category, null, price, null));\n      }\n    } else if (size !== '') {\n      if (price === \"-precio\" || price === \"precio\") {\n        dispatch(listItems(category, size, null, price));\n      } else if (price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\") {\n        dispatch(listItems(category, size, price, null));\n      }\n    }\n  };\n\n  return loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 22\n    }\n  }) : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 15\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchBar, {\n    searchHandler: searchHandler,\n    sizeHandler: sizeHandler,\n    priceHandler: priceHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ItemListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, category), result && result.map((item, idx) => /*#__PURE__*/React.createElement(ItemListCard, {\n    key: idx,\n    id: item.id,\n    nombre: item.nombre,\n    tamaño: item.tamaño,\n    precio: new Intl.NumberFormat().format(item.precio),\n    paquete: item.paquete,\n    category: category,\n    fotoCover: item.fotoCover,\n    idx: item.indice,\n    linkTo: 'renta',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default ItemList;\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/","map":{"version":3,"sources":["/Users/monter/Desktop/online_shop_v1/client/src/components/items/ItemList.js"],"names":["React","useEffect","useState","useSelector","useDispatch","ItemListCard","ItemListContainer","listItems","SearchBar","Loader","useRouteMatch","useParams","path","url","console","log","ItemList","match","searchKeyword","setSearchKeyword","size","setSize","price","setPrice","itemList","state","items","loading","error","dispatch","result","category","params","searchHandler","e","search","target","value","length","filter","item","descripcion","toLowerCase","indexOf","sizeHandler","priceHandler","map","idx","id","nombre","tamaño","Intl","NumberFormat","format","precio","paquete","fotoCover","indice"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport {ItemListContainer} from '../../elements/Container';\nimport {listItems} from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\nimport Loader from '../../elements/Loader';\n\nimport {useRouteMatch, useParams } from 'react-router-dom';\n\nlet { path, url } = useRouteMatch();\n  \nconsole.log(' ... path ')\n//console.log(url)\nconsole.log(path)\n\n\nconst ItemList = ({match }) => {\n    \n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [size, setSize] = useState('');\n    const [price, setPrice] = useState('');\n\n    const itemList = useSelector( state => state.items );\n    const {items,loading, error} = itemList;\n    const dispatch = useDispatch();\n    let result;\n\n    let { category } = useParams();\n\n    useEffect( () => {\n\n        dispatch(listItems(category, null, null, null))\n    },[dispatch, match.params.category]);\n\n \n    const searchHandler = (e) => {                \n        const search = e.target.value;    \n        search.length > 1 ? setSearchKeyword(search) : setSearchKeyword('');        \n    }\n    \n    if(searchKeyword !== ''){      \n      result = items && items.filter(item =>(\n        item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1))            \n    } else {\n      result = items;\n    }\n\n    const sizeHandler = (e) => {      \n      const size = e.target.value;\n      setSize(e.target.value);\n      dispatch(listItems(category, size, null , price));\n    }\n\n    const priceHandler = (e) => {\n      const price = e.target.value;\n      setPrice(e.target.value);\n      console.log(price)\n      if (size === ''){\n        if(price === \"-precio\" || price === \"precio\"){\n            dispatch(listItems(category, null, null , price));\n        } else if(price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\"){\n            dispatch(listItems(match.params.category, null, price , null));\n        }\n      } else if (size !== '') {\n        if(price === \"-precio\" || price === \"precio\"){\n            dispatch(listItems(category, size, null , price));\n        } else if(price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\"){\n            dispatch(listItems(category, size, price , null));\n        }\n      }\n    }\n    \n    return loading ? <Loader/> :\n      error ? <div>{error}</div> :\n      <>\n      <SearchBar            \n        searchHandler={searchHandler}            \n        sizeHandler={sizeHandler}\n        priceHandler={priceHandler}\n        />\n      <ItemListContainer>\n        <h3>{category}</h3>\n        {result && result.map( (item,idx) =>              \n            <ItemListCard                     \n                key={idx}\n                id={item.id}\n                nombre={item.nombre}\n                tamaño={item.tamaño}\n                precio={ new Intl.NumberFormat().format(item.precio)}\n                paquete={item.paquete}\n                category={category}\n                fotoCover={item.fotoCover}\n                idx={item.indice}\n                linkTo={'renta'}\n            />\n        )}            \n      </ItemListContainer>\n    </>\n\n};\n\nexport default ItemList;\n\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/\n"]},"metadata":{},"sourceType":"module"}