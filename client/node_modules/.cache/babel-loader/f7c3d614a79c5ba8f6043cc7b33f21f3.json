{"ast":null,"code":"var _jsxFileName = \"/Users/monter/projects/noryan/client/noryan-front/noryan_client/src/components/items/ItemList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport { ItemListContainer } from '../../elements/Container';\nimport { listItems } from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\n\nconst ItemList = ({\n  match\n}) => {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [size, setSize] = useState('');\n  const [price, setPrice] = useState('');\n  const itemList = useSelector(state => state.items);\n  const {\n    items\n  } = itemList;\n  const dispatch = useDispatch();\n  let result;\n  useEffect(() => {\n    dispatch(listItems(match.params.category, null, null, null));\n  }, [dispatch, match.params.category]);\n\n  const searchHandler = e => {\n    const search = e.target.value;\n    search.length > 1 ? setSearchKeyword(search) : setSearchKeyword('');\n  };\n\n  if (searchKeyword !== '') {\n    result = items && items.filter(item => item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1);\n  } else {\n    result = items;\n  }\n\n  const sizeHandler = e => {\n    const size = e.target.value;\n    setSize(e.target.value);\n    dispatch(listItems(match.params.category, size, null, price));\n  };\n\n  const priceHandler = e => {\n    const price = e.target.value;\n    setPrice(e.target.value);\n    console.log(price);\n\n    if (price === \"-precio\" || price === \"precio\" || size === '') {\n      setPrice(e.target.value);\n      dispatch(listItems(match.params.category, size, null, price));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchBar, {\n    searchHandler: searchHandler,\n    sizeHandler: sizeHandler,\n    priceHandler: priceHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ItemListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, match.params.category), result && result.map((item, idx) => /*#__PURE__*/React.createElement(ItemListCard, {\n    key: idx,\n    id: item.id,\n    nombre: item.nombre,\n    tamaño: item.tamaño,\n    precio: item.precio,\n    paquete: item.paquete,\n    category: match.params.category,\n    fotoCover: item.fotoCover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default ItemList;\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/","map":{"version":3,"sources":["/Users/monter/projects/noryan/client/noryan-front/noryan_client/src/components/items/ItemList.js"],"names":["React","useEffect","useState","useSelector","useDispatch","ItemListCard","ItemListContainer","listItems","SearchBar","ItemList","match","searchKeyword","setSearchKeyword","size","setSize","price","setPrice","itemList","state","items","dispatch","result","params","category","searchHandler","e","search","target","value","length","filter","item","descripcion","toLowerCase","indexOf","sizeHandler","priceHandler","console","log","map","idx","id","nombre","tamaño","precio","paquete","fotoCover"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport {ItemListContainer} from '../../elements/Container';\nimport {listItems} from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\n\nconst ItemList = ({match }) => {\n    \n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [size, setSize] = useState('');\n    const [price, setPrice] = useState('');\n\n    const itemList = useSelector( state => state.items );\n    const {items} = itemList;\n    const dispatch = useDispatch();\n    let result;\n\n    useEffect( () => {\n        dispatch(listItems(match.params.category, null, null, null))\n    },[dispatch, match.params.category]);\n\n    const searchHandler = (e) => {                \n        const search = e.target.value;    \n        search.length > 1 ? setSearchKeyword(search) : setSearchKeyword('');        \n    }\n    \n    if(searchKeyword !== ''){      \n      result = items && items.filter(item =>(\n        item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1))            \n    } else {\n      result = items;\n    }\n\n    const sizeHandler = (e) => {      \n      const size = e.target.value;\n      setSize(e.target.value);\n      dispatch(listItems(match.params.category, size, null , price));\n    }\n\n    const priceHandler = (e) => {\n      const price = e.target.value;\n      setPrice(e.target.value);\n      console.log(price)\n      if((price === \"-precio\" || price === \"precio\") || (size === '')){\n        setPrice(e.target.value)         \n        dispatch(listItems(match.params.category, size, null, price))            \n      }  \n    }\n\n    return (\n        <>\n          <SearchBar            \n            searchHandler={searchHandler}            \n            sizeHandler={sizeHandler}\n            priceHandler={priceHandler}\n            />\n          <ItemListContainer>\n            <h3>{match.params.category}</h3>\n            {result && result.map( (item,idx) =>              \n                <ItemListCard                     \n                    key={idx}\n                    id={item.id}\n                    nombre={item.nombre}\n                    tamaño={item.tamaño}\n                    precio={item.precio}                    \n                    paquete={item.paquete}\n                    category={match.params.category}\n                    fotoCover={item.fotoCover}\n                />\n            )}            \n          </ItemListContainer>\n        </>\n    );\n};\n\nexport default ItemList;\n\n\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/\n"]},"metadata":{},"sourceType":"module"}