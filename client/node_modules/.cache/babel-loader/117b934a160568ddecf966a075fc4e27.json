{"ast":null,"code":"var _jsxFileName = \"/Users/monter/Desktop/noryan/client/src/components/items/ItemList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport { ItemListContainer } from '../../elements/Container';\nimport { listItems } from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\nimport Loader from '../../elements/Loader';\n\nconst ItemList = ({\n  match\n}) => {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [size, setSize] = useState('');\n  const [price, setPrice] = useState('');\n  const itemList = useSelector(state => state.items);\n  const {\n    items,\n    loading,\n    error\n  } = itemList;\n  const dispatch = useDispatch();\n  let result;\n  useEffect(() => {\n    dispatch(listItems(match.params.category, null, null, null));\n  }, [dispatch, match.params.category]);\n\n  const searchHandler = e => {\n    const search = e.target.value;\n    search.length > 1 ? setSearchKeyword(search) : setSearchKeyword('');\n  };\n\n  if (searchKeyword !== '') {\n    result = items && items.filter(item => item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1);\n  } else {\n    result = items;\n  }\n\n  const sizeHandler = e => {\n    const size = e.target.value;\n    setSize(e.target.value);\n    dispatch(listItems(match.params.category, size, null, price));\n  };\n\n  const priceHandler = e => {\n    const price = e.target.value;\n    setPrice(e.target.value);\n    console.log(price);\n\n    if (size === '') {\n      if (price === \"-precio\" || price === \"precio\") {\n        dispatch(listItems(match.params.category, null, null, price));\n      } else if (price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\") {\n        dispatch(listItems(match.params.category, null, price, null));\n      }\n    } else if (size !== '') {\n      if (price === \"-precio\" || price === \"precio\") {\n        dispatch(listItems(match.params.category, size, null, price));\n      } else if (price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\") {\n        dispatch(listItems(match.params.category, size, price, null));\n      }\n    }\n  };\n\n  return loading ? /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 22\n    }\n  }) : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, error) : /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchBar, {\n    searchHandler: searchHandler,\n    sizeHandler: sizeHandler,\n    priceHandler: priceHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ItemListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, match.params.category), result && result.map((item, idx) => /*#__PURE__*/React.createElement(ItemListCard, {\n    key: idx,\n    id: item.id,\n    nombre: item.nombre,\n    tamaño: item.tamaño,\n    precio: new Intl.NumberFormat().format(item.precio),\n    paquete: item.paquete,\n    category: match.params.category,\n    fotoCover: item.fotoCover,\n    idx: item.indice,\n    linkTo: 'renta',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default ItemList;\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/","map":{"version":3,"sources":["/Users/monter/Desktop/noryan/client/src/components/items/ItemList.js"],"names":["React","useEffect","useState","useSelector","useDispatch","ItemListCard","ItemListContainer","listItems","SearchBar","Loader","ItemList","match","searchKeyword","setSearchKeyword","size","setSize","price","setPrice","itemList","state","items","loading","error","dispatch","result","params","category","searchHandler","e","search","target","value","length","filter","item","descripcion","toLowerCase","indexOf","sizeHandler","priceHandler","console","log","map","idx","id","nombre","tamaño","Intl","NumberFormat","format","precio","paquete","fotoCover","indice"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport {ItemListContainer} from '../../elements/Container';\nimport {listItems} from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\nimport Loader from '../../elements/Loader';\n\nconst ItemList = ({match }) => {\n    \n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [size, setSize] = useState('');\n    const [price, setPrice] = useState('');\n\n    const itemList = useSelector( state => state.items );\n    const {items,loading, error} = itemList;\n    const dispatch = useDispatch();\n    let result;\n\n    useEffect( () => {\n\n        dispatch(listItems(match.params.category, null, null, null))\n    },[dispatch, match.params.category]);\n\n \n    const searchHandler = (e) => {                \n        const search = e.target.value;    \n        search.length > 1 ? setSearchKeyword(search) : setSearchKeyword('');        \n    }\n    \n    if(searchKeyword !== ''){      \n      result = items && items.filter(item =>(\n        item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1))            \n    } else {\n      result = items;\n    }\n\n    const sizeHandler = (e) => {      \n      const size = e.target.value;\n      setSize(e.target.value);\n      dispatch(listItems(match.params.category, size, null , price));\n    }\n\n    const priceHandler = (e) => {\n      const price = e.target.value;\n      setPrice(e.target.value);\n      console.log(price)\n      if (size === ''){\n        if(price === \"-precio\" || price === \"precio\"){\n            dispatch(listItems(match.params.category, null, null , price));\n        } else if(price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\"){\n            dispatch(listItems(match.params.category, null, price , null));\n        }\n      } else if (size !== '') {\n        if(price === \"-precio\" || price === \"precio\"){\n            dispatch(listItems(match.params.category, size, null , price));\n        } else if(price === \"precio[lte]=1500\" || \"precio[lte]=3000\" || \"precio[lte]=4500\"){\n            dispatch(listItems(match.params.category, size, price , null));\n        }\n      }\n    }\n    \n    return loading ? <Loader/> :\n      error ? <div>{error}</div> :\n      <>\n      <SearchBar            \n        searchHandler={searchHandler}            \n        sizeHandler={sizeHandler}\n        priceHandler={priceHandler}\n        />\n      <ItemListContainer>\n        <h3>{match.params.category}</h3>\n        {result && result.map( (item,idx) =>              \n            <ItemListCard                     \n                key={idx}\n                id={item.id}\n                nombre={item.nombre}\n                tamaño={item.tamaño}\n                precio={ new Intl.NumberFormat().format(item.precio)}\n                paquete={item.paquete}\n                category={match.params.category}\n                fotoCover={item.fotoCover}\n                idx={item.indice}\n                linkTo={'renta'}\n            />\n        )}            \n      </ItemListContainer>\n    </>\n\n};\n\nexport default ItemList;\n\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/\n"]},"metadata":{},"sourceType":"module"}