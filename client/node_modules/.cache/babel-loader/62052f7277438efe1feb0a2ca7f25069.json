{"ast":null,"code":"var _jsxFileName = \"/Users/monter/projects/noryan/client/noryan-front/noryan_client/src/components/items/ItemList.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport { ItemListContainer } from '../../elements/Container';\nimport { listItems } from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\n\nconst ItemList = ({\n  match\n}) => {\n  const [searchKeyword, setSearchKeyword] = useState('');\n  const [size, setSize] = useState('');\n  const [price, setPrice] = useState('');\n  const itemList = useSelector(state => state.items);\n  const {\n    items\n  } = itemList;\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(listItems(match.params.category, null, null, null));\n  }, [dispatch, match.params.category]);\n\n  const searchHandler = e => {\n    const search = e.target.value;\n    search.length > 1 ? setSearchKeyword(search) : setSearchKeyword(''); //setSearchKeyword(search)\n\n    console.log(search);\n  };\n\n  const sizeHandler = e => {\n    const size = e.target.value;\n    setSize(e.target.value);\n    dispatch(listItems(match.params.category, size, null, null));\n    console.log(size);\n  };\n\n  let result;\n\n  if (searchKeyword !== '') {\n    result = items && items.filter(item => item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1);\n  } else {\n    result = items;\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(SearchBar, {\n    category: match.params.category,\n    searchHandler: searchHandler,\n    sizeHandler: sizeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(ItemListContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, match.params.category), result && result.map((item, idx) => /*#__PURE__*/React.createElement(ItemListCard, {\n    key: idx,\n    id: item.id,\n    nombre: item.nombre,\n    tamaño: item.tamaño,\n    precio: item.precio,\n    paquete: item.paquete,\n    category: match.params.category,\n    fotoCover: item.fotoCover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }))));\n};\n\nexport default ItemList;\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/","map":{"version":3,"sources":["/Users/monter/projects/noryan/client/noryan-front/noryan_client/src/components/items/ItemList.js"],"names":["React","useEffect","useState","useSelector","useDispatch","ItemListCard","ItemListContainer","listItems","SearchBar","ItemList","match","searchKeyword","setSearchKeyword","size","setSize","price","setPrice","itemList","state","items","dispatch","params","category","searchHandler","e","search","target","value","length","console","log","sizeHandler","result","filter","item","descripcion","toLowerCase","indexOf","map","idx","id","nombre","tamaño","precio","paquete","fotoCover"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,WAAR,EAAqBC,WAArB,QAAuC,aAAvC;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,SAAQC,iBAAR,QAAgC,0BAAhC;AACA,SAAQC,SAAR,QAAwB,2BAAxB;AACA,OAAOC,SAAP,MAAsB,wBAAtB;;AAEA,MAAMC,QAAQ,GAAG,CAAC;AAACC,EAAAA;AAAD,CAAD,KAAc;AAE3B,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCV,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACa,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMe,QAAQ,GAAGd,WAAW,CAAEe,KAAK,IAAIA,KAAK,CAACC,KAAjB,CAA5B;AACA,QAAM;AAACA,IAAAA;AAAD,MAAUF,QAAhB;AACA,QAAMG,QAAQ,GAAGhB,WAAW,EAA5B;AAEAH,EAAAA,SAAS,CAAE,MAAM;AACbmB,IAAAA,QAAQ,CAACb,SAAS,CAACG,KAAK,CAACW,MAAN,CAAaC,QAAd,EAAwB,IAAxB,EAA8B,IAA9B,EAAoC,IAApC,CAAV,CAAR;AACH,GAFQ,EAEP,CAACF,QAAD,EAAWV,KAAK,CAACW,MAAN,CAAaC,QAAxB,CAFO,CAAT;;AAIA,QAAMC,aAAa,GAAIC,CAAD,IAAO;AACzB,UAAMC,MAAM,GAAGD,CAAC,CAACE,MAAF,CAASC,KAAxB;AACAF,IAAAA,MAAM,CAACG,MAAP,GAAgB,CAAhB,GAAoBhB,gBAAgB,CAACa,MAAD,CAApC,GAA+Cb,gBAAgB,CAAC,EAAD,CAA/D,CAFyB,CAGzB;;AACAiB,IAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AACH,GALD;;AAMA,QAAMM,WAAW,GAAIP,CAAD,IAAO;AACvB,UAAMX,IAAI,GAAGW,CAAC,CAACE,MAAF,CAASC,KAAtB;AACAb,IAAAA,OAAO,CAACU,CAAC,CAACE,MAAF,CAASC,KAAV,CAAP;AACAP,IAAAA,QAAQ,CAACb,SAAS,CAACG,KAAK,CAACW,MAAN,CAAaC,QAAd,EAAwBT,IAAxB,EAA8B,IAA9B,EAAqC,IAArC,CAAV,CAAR;AACAgB,IAAAA,OAAO,CAACC,GAAR,CAAYjB,IAAZ;AACH,GALD;;AAOA,MAAImB,MAAJ;;AACA,MAAGrB,aAAa,KAAK,EAArB,EAAwB;AACtBqB,IAAAA,MAAM,GAAGb,KAAK,IAAIA,KAAK,CAACc,MAAN,CAAaC,IAAI,IACjCA,IAAI,CAACC,WAAL,CAAiBC,WAAjB,GAA+BC,OAA/B,CAAuC1B,aAAa,CAACyB,WAAd,EAAvC,MAAwE,CAAC,CADzD,CAAlB;AAED,GAHD,MAGO;AACLJ,IAAAA,MAAM,GAAGb,KAAT;AACD;;AAED,sBACI,uDACE,oBAAC,SAAD;AACE,IAAA,QAAQ,EAAET,KAAK,CAACW,MAAN,CAAaC,QADzB;AAEE,IAAA,aAAa,EAAEC,aAFjB;AAGE,IAAA,WAAW,EAAEQ,WAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKrB,KAAK,CAACW,MAAN,CAAaC,QAAlB,CADF,EAEGU,MAAM,IAAIA,MAAM,CAACM,GAAP,CAAY,CAACJ,IAAD,EAAMK,GAAN,kBACnB,oBAAC,YAAD;AACI,IAAA,GAAG,EAAEA,GADT;AAEI,IAAA,EAAE,EAAEL,IAAI,CAACM,EAFb;AAGI,IAAA,MAAM,EAAEN,IAAI,CAACO,MAHjB;AAII,IAAA,MAAM,EAAEP,IAAI,CAACQ,MAJjB;AAKI,IAAA,MAAM,EAAER,IAAI,CAACS,MALjB;AAMI,IAAA,OAAO,EAAET,IAAI,CAACU,OANlB;AAOI,IAAA,QAAQ,EAAElC,KAAK,CAACW,MAAN,CAAaC,QAP3B;AAQI,IAAA,SAAS,EAAEY,IAAI,CAACW,SARpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADO,CAFb,CANF,CADJ;AAwBH,CA3DD;;AA6DA,eAAepC,QAAf;AAGA","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport ItemListCard from '../../layout/ItemListCard';\nimport {ItemListContainer} from '../../elements/Container';\nimport {listItems} from '../../actions/itemActions';\nimport SearchBar from '../../layout/SearchBar';\n\nconst ItemList = ({match }) => {\n    \n    const [searchKeyword, setSearchKeyword] = useState('');\n    const [size, setSize] = useState('');\n    const [price, setPrice] = useState('');\n\n    const itemList = useSelector( state => state.items );\n    const {items} = itemList;\n    const dispatch = useDispatch();\n\n    useEffect( () => {\n        dispatch(listItems(match.params.category, null, null, null))\n    },[dispatch, match.params.category]);\n\n    const searchHandler = (e) => {                \n        const search = e.target.value;    \n        search.length > 1 ? setSearchKeyword(search) : setSearchKeyword('');\n        //setSearchKeyword(search)\n        console.log(search)    \n    }\n    const sizeHandler = (e) => {      \n        const size = e.target.value;\n        setSize(e.target.value)\n        dispatch(listItems(match.params.category, size, null , null))\n        console.log(size)\n    }\n\n    let result;\n    if(searchKeyword !== ''){      \n      result = items && items.filter(item =>(\n        item.descripcion.toLowerCase().indexOf(searchKeyword.toLowerCase()) !== -1))            \n    } else {\n      result = items;\n    }\n\n    return (\n        <>\n          <SearchBar \n            category={match.params.category} \n            searchHandler={searchHandler}            \n            sizeHandler={sizeHandler}\n            />\n          <ItemListContainer>\n            <h3>{match.params.category}</h3>\n            {result && result.map( (item,idx) =>              \n                <ItemListCard                     \n                    key={idx}\n                    id={item.id}\n                    nombre={item.nombre}\n                    tamaño={item.tamaño}\n                    precio={item.precio}                    \n                    paquete={item.paquete}\n                    category={match.params.category}\n                    fotoCover={item.fotoCover}\n                />\n            )}            \n          </ItemListContainer>\n        </>\n    );\n};\n\nexport default ItemList;\n\n\n/*\n const setUrl = {    \n    all: `/items/${category}`,\n    size: `/items/${category}?tamaño=${size}`,\n    price: `/items/${category}?${price_cond}`,\n    sort: `/items/${category}?sort=${sortBy}`,    \n    sizeAndPrice: `/items/${category}?tamaño=${size}&${price_cond}`,\n    sizeAndSort: `/items/${category}?tamaño=${size}&sort=${sortBy}`,\n    allConditions: `/items/${category}?tamaño=${size}&${price_cond}&sort=${sortBy}`,\n  }\n\n*/\n"]},"metadata":{},"sourceType":"module"}